	var __wxAppData = __wxAppData || {}; 	var __wxRoute = __wxRoute || ""; 	var __wxRouteBegin = __wxRouteBegin || ""; 	var __wxAppCode__ = __wxAppCode__ || {};	var global = global || {};	var __WXML_GLOBAL__=__WXML_GLOBAL__ || {};	var __wxAppCurrentFile__=__wxAppCurrentFile__||""; 	var Component = Component || function(){};	var definePlugin = definePlugin || function(){};	var requirePlugin = requirePlugin || function(){};	var Behavior = Behavior || function(){};
	
	define("utils/util.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=function(t){return(t=t.toString())[1]?t:"0"+t};module.exports={formatTime:function(e){var n=e.getFullYear(),r=e.getMonth()+1,o=e.getDate(),u=e.getHours(),i=e.getMinutes(),a=e.getSeconds();return[n,r,o].map(t).join("/")+" "+[u,i,a].map(t).join(":")}}; 
 			}); 
		define("utils/zhuge-wx.min.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";!function(t){function e(n){if(u[n])return u[n].exports;var i=u[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var u={};e.m=t,e.c=u,e.d=function(t,u,n){e.o(t,u)||Object.defineProperty(t,u,{configurable:!1,enumerable:!0,get:n})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var u=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(u,"a",u),u},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=39)}({38:function(t,e){t.exports={1044:{utm_source:"分享",utm_medium:"带shareTicket的小程序消息卡片（详情）"},1007:{utm_source:"分享",utm_medium:"单人聊天会话中的小程序消息卡片"},1008:{utm_source:"分享",utm_medium:"群聊会话中的小程序消息卡片"},1036:{utm_source:"分享",utm_medium:"App分享消息卡片"},1020:{utm_source:"公众号",utm_medium:"公众号profile页相关小程序列表"},1035:{utm_source:"公众号",utm_medium:"公众号自定义菜单"},1043:{utm_source:"公众号",utm_medium:"公众号模板消息"},1058:{utm_source:"公众号",utm_medium:"公众号文章"},1074:{utm_source:"公众号会话",utm_medium:"公众号会话下发的小程序消息卡片"},1067:{utm_source:"广告",utm_medium:"公众号文章广告"},1068:{utm_source:"广告",utm_medium:"附近小程序列表广告"},1073:{utm_source:"客服消息",utm_medium:"客服消息列表下发的小程序消息卡片"},1011:{utm_source:"扫码",utm_medium:"扫描二维码"},1012:{utm_source:"扫码",utm_medium:"长按图片识别二维码"},1013:{utm_source:"扫码",utm_medium:"手机相册选取二维码"},1025:{utm_source:"扫码",utm_medium:"扫描一维码"},1031:{utm_source:"扫码",utm_medium:"长按图片识别一维码"},1032:{utm_source:"扫码",utm_medium:"手机相册选取一维码"},1047:{utm_source:"扫码",utm_medium:"扫描小程序码"},1048:{utm_source:"扫码",utm_medium:"长按图片识别小程序码"},1049:{utm_source:"扫码",utm_medium:"手机相册选取小程序码"},1027:{utm_source:"搜索",utm_medium:"顶部搜索框搜索结果页“使用过的小程序”列表"},1005:{utm_source:"搜索",utm_medium:"顶部搜索框的搜索结果页"},1006:{utm_source:"搜索",utm_medium:"发现栏小程序主入口搜索框的搜索结果页"},1042:{utm_source:"搜索",utm_medium:"添加好友搜索框的搜索结果页"},1053:{utm_source:"搜索",utm_medium:"搜一搜的结果页"},1054:{utm_source:"搜索",utm_medium:"顶部搜索框小程序快捷入口"},1064:{utm_source:"微信WIFI",utm_medium:"微信连Wi-Fi状态栏"},1078:{utm_source:"微信WIFI",utm_medium:"连Wi-Fi成功页"},1028:{utm_source:"微信卡券",utm_medium:"我的卡包"},1029:{utm_source:"微信卡券",utm_medium:"卡券详情页"},1052:{utm_source:"微信卡券",utm_medium:"卡券的适用门店列表"},1019:{utm_source:"微信支付",utm_medium:"微信钱包"},1034:{utm_source:"微信支付",utm_medium:"微信支付完成页"},1057:{utm_source:"微信支付",utm_medium:"钱包中的银行卡详情页"},1071:{utm_source:"微信支付",utm_medium:"钱包中的银行卡列表页"},1072:{utm_source:"微信支付",utm_medium:"二维码收款页面"},1001:{utm_source:"微信主程序",utm_medium:"发现栏小程序主入口"},1022:{utm_source:"微信主程序",utm_medium:"聊天顶部置顶小程序入口"},1024:{utm_source:"微信主程序",utm_medium:"小程序 profile 页"},1089:{utm_source:"微信主程序",utm_medium:"微信聊天主界面下拉"},1026:{utm_source:"微信主程序",utm_medium:"附近小程序列表"},1037:{utm_source:"小程序",utm_medium:"小程序打开小程序"},1038:{utm_source:"小程序",utm_medium:"从另一个小程序返回"},1090:{utm_source:"小程序",utm_medium:"长按小程序右上角菜单唤出最近使用历史"},1014:{utm_source:"小程序模板消息",utm_medium:"小程序模板消息"},1039:{utm_source:"摇电视",utm_medium:"摇电视"},1056:{utm_source:"音乐播放器菜单",utm_medium:"音乐播放器菜单"},1023:{utm_source:"桌面图标",utm_medium:"安卓系统桌面图标"},1017:{utm_source:"体验版",utm_medium:"前往体验版的入口页"},1030:{utm_source:"测试",utm_medium:"自动化测试下打开小程序"},1059:{utm_source:"体验版",utm_medium:"体验版小程序绑定邀请页"},1092:{utm_source:"微信城市服务",utm_medium:"城市服务入口"},isShare:function(t){return-1!==[1020,1035,1036,1037,1038,1043].indexOf(t)}}},39:function(t,e,u){function n(t,e,u){if(t[e]){var n=t[e];t[e]=function(){n.apply(this,arguments),u.apply(this,arguments)}}else t[e]=u}function i(t,e){var u=t||{},n=e||{};return["utm_source","utm_medium","utm_campaign","utm_content","utm_term"].forEach(function(t){u[t]?n["$"+t]=u[t]:u["$"+t]&&(n["$"+t]=u["$"+t])}),n}var r,o,s,m,c,a,_={},d=u(38);r=Array.prototype,o=Object.prototype,s=r.slice,m=o.hasOwnProperty,c=r.forEach,a={},_.uuid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},_.each=function(t,e,u){if(null!=t)if(c&&t.forEach===c)t.forEach(e,u);else if(t.length===+t.length){for(var n=0,i=t.length;n<i;n++)if(n in t&&e.call(u,t[n],n,t)===a)return}else for(var r in t)if(m.call(t,r)&&e.call(u,t[r],r,t)===a)return},_.extend=function(t){return _.each(s.call(arguments,1),function(e){for(var u in e)void 0!==e[u]&&(t[u]=e[u])}),t},_.isUndefined=function(t){return void 0===t},_.isString=function(t){return"[object String]"==Object.prototype.toString.call(t)},_.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},_.isFunction=function(t){try{return/^\s*\bfunction\b/.test(t)}catch(t){return!1}},_.isObject=function(t){return t===Object(t)&&!_.isArray(t)},_.getSystemInfo=function(){var t=wx.getSystemInfoSync();return t.resolution=t.windowWidth+"x"+t.windowHeight,t},_.encode=function(t){var e={};for(var u in t)e["_"+u]=t[u];return e},_.getNet=function(t){wx.getNetworkType({complete:function(e){var u="wifi"===e.networkType?1:0,n="wifi"===e.networkType?0:{"2g":1,"3g":3,"4g":13}[e.networkType];p.set("net",u),p.set("mnet",n),t&&t({net:u,mnet:n})}})};var p={key:"zg",get:function(t){var e=this.getAll();return e?e[t]:null},set:function(t,e){var u=this.getAll();u[t]=e,wx.setStorageSync(this.key,u)},setUtm:function(t){wx.setStorageSync("utm",t)},getUtm:function(){return wx.getStorageSync("utm")},del:function(t){var e=this.getAll();delete e[t],wx.setStorageSync(this.key,e)},getAll:function(){var t=wx.getStorageSync(this.key);return t||(t={cache:[],ec:0,net:0,mnet:0},wx.setStorageSync(this.key,t)),t},clear:function(){wx.removeStorageSync(this.key)},getDid:function(){return wx.getStorageSync("zg-did")},registerDid:function(t){wx.setStorageSync("zg-did",t||_.uuid())},updateSession:function(t,e,u){var n=wx.getStorageSync("zg-session");n?(n.sid=t,n.active=e):n={sid:t,active:e},console.log(u+"set session info is "+JSON.stringify(n)),wx.setStorageSync("zg-session",n)},getSessionInfo:function(){return wx.getStorageSync("zg-session")},flush:function(){for(var t=this.get("sid"),e=this.get("cache"),u=0,n=e.length;u<n;u++){var i=e[u];i.hasOwnProperty("sid")||(i.sid=t)}return this.set("cache",[]),e}},f=function(){this._props={appKey:"",br:"wx-app",an:"",vn:"",cn:""},this._url={normal:"https://u.zhugeapi.com/web_event",bac:"https://ubak.zhugeio.com/web_event"},this._config={debug:!1,did:"",an:"wxApp",vn:"1.0",pv:!1},this._sdk="web",this._sdkv="2.1"};f.prototype._registerOnce=function(){p.getDid()||p.registerDid(this._config.did)},f.prototype._sendRequest=function(t){var e=new Date,u={method:"web_event_srv.upload",event:{sln:"itn",pl:"js",sdk:"zg-js",sdkv:this._sdkv,owner:"zg",ut:[e.getFullYear(),e.getMonth()+1,e.getDate()].join("-")+" "+e.toTimeString().match(/\d{2}:\d{2}:\d{2}/)[0],tz:6e4*-e.getTimezoneOffset(),debug:this._config.debug?1:0,ak:this._props.appKey,usr:{did:p.getDid()},data:[]},_:(new Date).getTime().toString()},n=p.get("cache");p.get("sid")?(n.length&&u.event.data.push(p.flush()),u.event.data.push(t),this._request(u)):(n.push(t),p.set("cache",n))},f.prototype._request=function(t){var e=this;wx.request({url:this._url.normal,data:t,responseType:"arraybuffer",fail:function(u){e._url.normal.toUpperCase()===e._url.bac.toUpperCase()||wx.request({url:e._url.bac,data:t,responseType:"arraybuffer"})}})},f.prototype._info=function(){var t=_.getSystemInfo(),e=new Date,u={dt:"pl",pr:{$rs:t.resolution,$tz:6e4*-e.getTimezoneOffset(),$ct:e.getTime(),$cuid:p.get("cuid")}};this._sendRequest(u)},f.prototype._sessionStart=function(){var t=new Date,e=t.getTime(),u=_.getSystemInfo(),n=this;p.set("sid",e),p.updateSession(e,e,"会话开始"),_.getNet(function(i){var r={dt:"ss",pr:{$ct:t.getTime(),$sid:e,$cuid:p.get("cuid"),$cn:n._props.cn,$tz:6e4*-t.getTimezoneOffset(),$url:p.get("$url"),$os:u.system.split(/\s/)[0],$ov:u.system.split(/\s/)[1],$wv:u.version,$mnet:i.mnet,$net:i.net,$vn:n._props.vn,$referrer_domain:"miniprogram"}};r.pr=_.extend(r.pr,p.getUtm()),n._sendRequest(r)})},f.prototype._sessionEnd=function(){var t=p.get("sid"),e=new Date,u=e.getTime()-t,n={dt:"se",pr:{$ct:e.getTime(),$cn:this._props.cn,$tz:6e4*-e.getTimezoneOffset(),$dru:u,$sid:t,$cuid:p.get("cuid"),$referrer_domain:"miniprogram"}};n.pr=_.extend(n.pr,p.getUtm()),this._sendRequest(n),p.clear()},f.prototype._init=function(){this._registerOnce(),this._sessionStart(),this._info()},f.prototype.load=function(t,e){this._props.appKey=t,p.set("appKey",t),_.isObject(e)&&(this._config=_.extend(this._config,e),this._config.an&&(this._props.an=this._config.an),this._config.vn&&(this._props.vn=this._config.vn))},f.prototype.identify=function(t,e){var u=p.get("sid"),n=new Date;p.set("cuid",t);var i={dt:"usr",pr:{$ct:n.getTime(),$tz:6e4*-n.getTimezoneOffset(),$cuid:t,$sid:u,$url:p.get("$url")}};_.isObject(e)&&(i.pr=_.extend(i.pr,_.encode(e))),this._sendRequest(i)},f.prototype.track=function(t,e){t&&t.length>0?this.privateTrack(t,e,!0):console.error("track 事件名称不能为空")},f.prototype.privateTrack=function(t,e,u){var n=p.get("sid"),i=new Date,r=_.getSystemInfo(),o=u?"evt":"abp",s=this;u&&p.set("ec",p.get("ec")+1),u&&p.updateSession(n,i.getTime(),"标记事件"+o),_.getNet(function(m){var c={dt:o,pr:{$eid:t,$ct:i.getTime(),$tz:6e4*-i.getTimezoneOffset(),$cuid:p.get("cuid"),$cn:s._props.cn,$sid:n,$url:p.get("$url"),$os:r.system.split(/\s/)[0],$ov:r.system.split(/\s/)[1],$wv:r.version,$mnet:m.mnet+"",$referrer_domain:"miniprogram",$net:m.net+"",$vn:s._props.vn}};c.pr=_.extend(c.pr,p.getUtm()),_.isObject(e)&&(c.pr=u?_.extend(c.pr,_.encode(e)):_.extend(c.pr,e)),s._sendRequest(c)})},f.prototype.start=function(){this._init()},f.prototype.end=function(){this._sessionEnd()};var g=new f,h=function(){},l=function(t){var e=t.scene,u=e.toString();g._props.cn=u;var n=void 0,r=void 0,o=d[u];d.isShare(e)&&(r=t.referrerInfo.appId),o&&(n={utm_source:o.utm_source,utm_medium:o.utm_medium,utm_campaign:r});var s=i(n),m=i(t.query,s);p.setUtm(m);var c=p.getSessionInfo();if(c&&c.hasOwnProperty("active")){var a=(new Date).getTime();a-c.active>3e4?(g.end(),g.start()):(p.set("sid",c.sid),p.updateSession(c.sid,a,"进入应用"))}else g.start()},v=function(){var t=p.get("sid"),e=(new Date).getTime();p.updateSession(t,e,"应用退出")},y=App;App=function(t){n(t,"onLaunch",h),n(t,"onShow",l),n(t,"onHide",v),y(t)};var w=function(t){var e=Object.keys(t),u=this.__route__,n=this.__route__,i=[];if(e&&e.length>0){u+="?";for(var r=0;r<e.length;r++){var o=e[r];i[r]=o+"="+t[o]}u+=i.join("&")}if(p.set("$url",u),g._config.pv){var s={$page_title:n};g.privateTrack("pv",s,!1)}},S=function(){var t=p.get("sid"),e=new Date;p.updateSession(t,e.getTime(),"pageShow")},$=function(){},x=Page;Page=function(t){n(t,"onLoad",w),n(t,"onShow",S),n(t,"onHide",$),x(t)},App.zhuge=g,t.exports=new f}}); 
 			}); 
		define("app.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";require("utils/zhuge-wx.min.js");var n={debug:!1,pv:!0};App.zhuge.load("aee18546270a4d7583dcdccf4ec4201d",n),App({onLaunch:function(){},initCallback:function(n){var e=this;e.isLogin(function(){n(),e.getUser()})},isLogin:function(n){var e=this;if(e.globalData.__uid&&e.globalData.__token)return n(),!1;wx.showLoading({title:"正在登录",mask:!0}),wx.login({success:function(t){wx.request({url:e.globalData.__api_path+"login.php",data:{act:"login",code:t.code},success:function(t){e.globalData.__uid=t.data.uid,e.globalData.__token=t.data.token,n(),App.zhuge.identify("user",{uid:t.data.uid})},fail:function(t){wx.showModal({title:"提示",content:"登录失败 ["+t.errMsg+"] 点击确定后重新登录！",showCancel:!1,success:function(t){e.isLogin(n)}})},complete:function(n){wx.hideLoading()}})}})},getUser:function(){var n=this;if(n.globalData.__userInfo)return!1;wx.getSetting({success:function(e){e.authSetting["scope.userInfo"]&&wx.getUserInfo({success:function(e){n.globalData.__userInfo=e.userInfo,wx.request({url:n.globalData.__api_path+"login.php",method:"GET",data:{act:"userinfo",uid:n.globalData.__uid,token:n.globalData.__token,user_headimg:e.userInfo.avatarUrl,user_city:e.userInfo.city,user_country:e.userInfo.country,user_gender:e.userInfo.gender,user_language:e.userInfo.language,user_nickname:e.userInfo.nickName,user_province:e.userInfo.province},success:function(n){console.log(n)},fail:function(n){},complete:function(){}})},complete:function(n){}})}})},globalData:{__uid:null,__token:null,__userInfo:null,__api_path:"https://wx.xgdq.com/api/",__const:null,__popup_ad:!0}}); 
 			}); 	require("app.js");
 		__wxRoute = 'pages/index/index';__wxRouteBegin = true; 	define("pages/index/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a={page:1,isMove:!0,cache_data:[]};Page({data:{is_popup_ad:t.globalData.__popup_ad},onLoad:function(){this.initPage(),App.zhuge.track("进入首页",{"平台":"小程序"})},initPage:function(){t.initCallback(function(){this.getAd(),this.getGoods(),this.getCoupon(),this.getConst()}.bind(this))},getConst:function(){wx.request({url:t.globalData.__api_path+"index.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"const"},success:function(a){200==a.data.code?t.globalData.__const=a.data.result:wx.showToast({title:a.data.msg,duration:2e3,icon:"none"}),console.log(a)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}})},getAd:function(){var a=this;wx.showLoading({title:"加载首页",mask:!0}),wx.request({url:t.globalData.__api_path+"index.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"ad"},success:function(t){200==t.data.code?a.setData({ads:t.data.ads}):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),wx.hideLoading(),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}})},getGoods:function(){var o=this;wx.request({url:t.globalData.__api_path+"index.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"recommend",page:a.page},success:function(t){200==t.data.code?o.setData({goods_recommend:t.data.result.goods}):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}})},getCoupon:function(){var a=this;wx.request({url:t.globalData.__api_path+"index.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"coupon"},success:function(t){200==t.data.code?a.setData({goods_coupon:t.data.result}):wx.showToast({title:t.data.msg,duration:2e3}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3})},complete:function(){}})},onClickBanner:function(t){t.target.dataset.path&&(wx.navigateTo({url:t.target.dataset.path}),App.zhuge.track("首页-点击banner",{"平台":"小程序","banner名称":t.target.dataset.ad_name}))},bind_zhuge:function(t){App.zhuge.track("首页-点击今日热卖",{"平台":"小程序","热卖商品名称":t.target.dataset.zhuge})},bind_zhuge_baokuan:function(t){App.zhuge.track("首页-点击爆款推荐",{"平台":"小程序","爆款商品名称":t.target.dataset.zhuge})},receive_coupon:function(a){wx.request({url:t.globalData.__api_path+"coupon.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"receive",id:a.currentTarget.dataset.id},success:function(t){200==t.data.code?wx.showModal({title:"提示",content:"优惠券已成功领取！",showCancel:!1,success:function(t){}}):wx.showToast({title:t.data.msg,duration:1e3,mask:!0}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3})},complete:function(){}}),App.zhuge.track("首页-点击优惠券",{"平台":"小程序"}),console.log(a.currentTarget.dataset.id)},popup_close:function(){var a=this;t.globalData.__popup_ad=!1,a.setData({is_popup_ad:!1})},bindGetUserInfo:function(a){var o=this;t.getUser(),o.popup_close(),a.currentTarget.dataset.path&&wx.navigateTo({url:a.currentTarget.dataset.path})},onPullDownRefresh:function(){this.initPage(),wx.stopPullDownRefresh()},onShareAppMessage:function(){return{title:"小狗电器官方商城",path:"/pages/index/index"}}}); 
 			}); 	require("pages/index/index.js");
 		__wxRoute = 'pages/activity/activity';__wxRouteBegin = true; 	define("pages/activity/activity.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),o={activity:{id:0},_timeout:null};Page({data:{end_h:"--",end_i:"--",end_s:"--"},onLoad:function(t){o.activity.id=t.id,this.initPage()},initPage:function(){var n=this;if(o.activity.id<=0)return!1;wx.request({url:t.globalData.__api_path+"activity.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"info",id:o.activity.id},success:function(t){200==t.data.code?(n.setData({result:t.data.result,as_time:t.data.result.as_time}),o._timeout=setTimeout(function(){n.countDown(t.data.result.as_time)},1e3)):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}})},countDown:function(t){var n=this;if(t>0){var i=Math.floor(t/86400),e=Math.floor(t/3600)-24*i,a=Math.floor(t/60)-24*i*60-60*e,u=Math.floor(t)-24*i*60*60-60*e*60-60*a;(e+=24*i)<=9&&(e="0"+e),a<=9&&(a="0"+a),u<=9&&(u="0"+u),n.setData({end_h:e,end_i:a,end_s:u}),t--,o._timeout=setTimeout(function(){n.countDown(t)},1e3),console.log("phptime:"+t)}else n.setData({as_time:-2,end_h:"00",end_i:"00",end_s:"00"}),console.log("结束")},onReady:function(){},onShow:function(){clearTimeout(o._timeout)},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}}); 
 			}); 	require("pages/activity/activity.js");
 		__wxRoute = 'pages/old/old';__wxRouteBegin = true; 	define("pages/old/old.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),i={img_texts:[],old_cls:[],id:0};Page({data:{swiper_text:""},onLoad:function(t){var a=this;i.id=t.id||0,a._animation1=wx.createAnimation({duration:300,timingFunction:"linear"}),a._animation2=wx.createAnimation({duration:500,timingFunction:"linear"}),a.initPage(),a.icon_anim()},initPage:function(i){var a=this;t.initCallback(function(){a.oldDetails()})},oldDetails:function(){var a=this;wx.request({url:t.globalData.__api_path+"old.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,id:i.id,act:"old_details"},success:function(t){200==t.data.code?(i.img_texts=t.data.result.old_pic_desc,i.old_cls=t.data.result.old_cls,a.setData({result:t.data.result,swiper_text:i.img_texts[0]})):wx.showToast({title:t.data.msg,duration:2e3}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3})},complete:function(){}})},swiper_start:function(t){var i=this;i._animation1.opacity(0).step(),i.setData({swiper_anim:i._animation1.export()})},swiper_end:function(t){var a=this,n=t.detail.current;a._animation1.opacity(1).step(),a.setData({swiper_anim:a._animation1.export(),swiper_text:i.img_texts[n]})},get_cls:function(){return i.old_cls},icon_anim:function(){var t=this;t._animation2.scale(.95,.95).step(),t._animation2.scale(1,1).step(),t.setData({homeicon_anim:t._animation2.export()}),t._timeout2=setTimeout(function(){t.icon_anim()},1e3)},onShareAppMessage:function(){}}); 
 			}); 	require("pages/old/old.js");
 		__wxRoute = 'pages/old/old-ht/ht';__wxRouteBegin = true; 	define("pages/old/old-ht/ht.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Page({data:{},onLoad:function(t){this.setData({ht_img:t.img})},onShareAppMessage:function(){}}); 
 			}); 	require("pages/old/old-ht/ht.js");
 		__wxRoute = 'pages/old/old-success/success';__wxRouteBegin = true; 	define("pages/old/old-success/success.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp();Page({data:{},onLoad:function(t){this.initPage()},initPage:function(){this.load_coupon()},load_coupon:function(){var a=this;wx.request({url:t.globalData.__api_path+"old.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"get_coupon"},success:function(t){200==t.data.code?a.setData({tab_coupons:t.data.result}):wx.showToast({title:t.data.msg,duration:2e3}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3})},complete:function(){}})},goto_path:function(t){t.currentTarget.dataset.path&&wx.navigateTo({url:t.currentTarget.dataset.path}),console.log(t.currentTarget.dataset.path)},onShareAppMessage:function(){}}); 
 			}); 	require("pages/old/old-success/success.js");
 		__wxRoute = 'pages/old/old-goods/goods';__wxRouteBegin = true; 	define("pages/old/old-goods/goods.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp();Page({data:{},onLoad:function(t){this.initPage()},initPage:function(){var a=this;wx.request({url:t.globalData.__api_path+"old.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"get_goods"},success:function(t){200==t.data.code?a.setData({result:t.data.result}):wx.showToast({title:t.data.msg,duration:2e3}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3})},complete:function(){}})},onShareAppMessage:function(){}}); 
 			}); 	require("pages/old/old-goods/goods.js");
 		__wxRoute = 'pages/old/old-page/page';__wxRouteBegin = true; 	define("pages/old/old-page/page.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),o={photos:[],upload_photos:[]};Page({data:{item_hidden:!0,picker_region:"地区信息",picker_region_array:[],picker_date:"选择日期"},onLoad:function(t){o.upload_photos=[],o.photos=[],this.initPage(),this.setData({current_time:this.get_time()})},initPage:function(){var t=getCurrentPages();if(t.length>1){var o=t[t.length-2];this.setData({item_cls:o.get_cls()})}},region_change:function(t){var o=this,e=t.detail.value;o.setData({picker_region:e[0]+"-"+e[1]+"-"+e[2],picker_region_array:e})},region_cancel:function(t){},date_change:function(t){console.log(t);var o=this,e=t.detail.value;o.setData({picker_date:e})},date_cancel:function(t){},bindImageTap:function(){var t=this;wx.chooseImage({count:3,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){if(e.tempFilePaths.length+o.photos.length>3)return wx.showToast({title:"最多支持3张照片哦！",icon:"none"}),!1;o.photos.push.apply(o.photos,e.tempFilePaths),t.setData({photos:o.photos}),console.log(e),console.log(o.photos)}})},removeImage:function(t){var e=this;wx.showModal({title:"提示",content:"您确定要删除一张图片吗",success:function(a){a.confirm?(o.photos.splice(t.target.dataset.id,1),e.setData({photos:o.photos}),console.log(o.photos)):a.cancel&&console.log("用户点击取消")}})},setImages:function(e,a){if(o.photos.length<=0)return a(),!1;var n=this;wx.uploadFile({url:t.globalData.__api_path+"uploadImage.php",filePath:o.photos[e],name:"file",success:function(t){console.log(t),o.upload_photos.push(t.data)},fail:function(){},complete:function(){++e==o.photos.length?a():n.setImages(e,a)}})},formBindsubmit:function(t){var e=this,a=t.detail.value,n={old_cls_name:a.old_cls_other||e.data.item_cls_name,old_name:a.old_name,old_mobile:a.old_mobile,old_region:e.data.picker_region,old_best_date:e.data.picker_date,old_address:a.old_address};return n.old_cls_name?n.old_name?n.old_mobile?n.old_region&&"地区信息"!=n.old_region?n.old_address?n.old_best_date&&"选择日期"!=n.old_best_date?(wx.showLoading({title:"上传图片",mask:!0}),void e.setImages(0,function(){n.old_pic=o.upload_photos.join(","),o.upload_photos=[],e.setInfo(n)})):(wx.showToast({title:"请选择上门日期",icon:"none"}),!1):(wx.showToast({title:"请输入街道门牌信息",icon:"none"}),!1):(wx.showToast({title:"请选择地区信息",icon:"none"}),!1):(wx.showToast({title:"请输入手机或固话",icon:"none"}),!1):(wx.showToast({title:"请输入姓名",icon:"none"}),!1):(wx.showToast({title:"请选择或输入一个分类",icon:"none"}),!1)},setInfo:function(o){wx.showLoading({title:"正在保存",mask:!0}),o.uid=t.globalData.__uid,o.token=t.globalData.__token,o.act="add",wx.request({url:t.globalData.__api_path+"old.php",data:o,success:function(t){200==t.data.code?wx.showModal({title:"提示",content:"信息提交成功。",showCancel:!1,success:function(t){t.confirm&&wx.redirectTo({url:"../old-success/success"})}}):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"保存失败，请重试",duration:2e3,icon:"none"})},complete:function(){wx.hideLoading()}})},onMore:function(){var t=this;t.setData({item_hidden:!t.data.item_hidden}),t.data.item_hidden},inputWacth:function(t){t.detail.value&&this.setData({item_cls_name:""})},cls_change:function(t){this.setData({item_cls_name:t.currentTarget.dataset.name,item_cls_other:""})},get_time:function(){var t=new Date,o=t.getFullYear(),e=t.getMonth()+1,a=t.getDate();return e<10&&(e="0"+e),a<10&&(a="0"+a),o+"-"+e+"-"+a},onShareAppMessage:function(){}}); 
 			}); 	require("pages/old/old-page/page.js");
 		__wxRoute = 'pages/old/old-activity/activity';__wxRouteBegin = true; 	define("pages/old/old-activity/activity.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),e={photo:"",sex:1,save_url:"",boy:[],girl:[],index:0,is_dm:!0};Page({data:{scene:"sc1",btn:"b1",tpl:"../../../assets/images/old/mb-1.jpg"},onLoad:function(t){this.initPage()},initPage:function(){var a=this;t.initCallback(function(){wx.request({url:t.globalData.__api_path+"old.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"mergeface_init"},success:function(t){200==t.data.code?(a.setData({result:t.data.result}),e.boy=t.data.result.label_boy,e.girl=t.data.result.label_girl,a.init_danmu()):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3})},complete:function(){}})})},bind_canyu:function(){this.setData({scene:"sc2"})},bind_bucanyu:function(){wx.switchTab({url:"../../index/index"})},bind_photo:function(t){this.setData({tpl:"../../../assets/images/old/mb-"+t.currentTarget.dataset.sex+".jpg"}),e.sex=t.currentTarget.dataset.sex},bind_upload:function(){var a=this;wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(n){e.photo=n.tempFilePaths[0],wx.showLoading({title:"请稍后",mask:!0}),wx.uploadFile({url:t.globalData.__api_path+"old.php?act=mergeface&sex="+e.sex+"&uid=1&token=even.zhang",filePath:e.photo,name:"file",success:function(t){var n=JSON.parse(t.data);200==n.code?(a.setData({tpl:n.result.url,btn:"b2"}),e.save_url=n.result.save_url):wx.showToast({title:n.msg,duration:2e3,icon:"none"}),console.log(n)},fail:function(){},complete:function(){wx.hideLoading()}})}})},bind_save:function(){wx.showLoading({title:"请稍后",mask:!0}),wx.downloadFile({url:e.save_url,success:function(t){wx.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(t){wx.showModal({title:"提示",content:"保存成功，可以在手机相册中查看！",showCancel:!1,success:function(t){t.confirm?wx.switchTab({url:"../../index/index"}):t.cancel&&console.log("用户点击取消")}}),console.log(t)},fail:function(t){console.log(t)},complete:function(){wx.hideLoading()}})},fail:function(){console.log("fail")}})},bind_reply:function(){this.setData({btn:"b1",tpl:"../../../assets/images/old/mb-"+e.sex+".jpg"}),e.photo=""},formBindsubmit:function(a){var n=this,i=a.detail.value.danmu;if(!e.is_dm)return wx.showToast({title:"每分钟只能发送一条弹幕",duration:2e3,icon:"none"}),!1;i?wx.request({url:t.globalData.__api_path+"old.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,sex:e.sex,dm_text:i,act:"danmu_save"},success:function(t){200==t.data.code?(e.boy.push(i),e.girl.push(i),wx.showToast({title:"发送成功",duration:1e3}),n.setData({danmu_value:""}),e.is_dm=!1,setTimeout(function(){e.is_dm=!0},6e4)):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3})},complete:function(){}}):wx.showToast({title:"内容不能为空",duration:2e3,icon:"none"})},init_danmu:function(){var t=this,e=3e3*Math.random()+3e3,a=3e3*Math.random()+3e3,n=3e3*Math.random()+3e3,i=3e3*Math.random()+3e3,o=3e3*Math.random()+3e3;t.light_anim_loop({dm_anim1:t.light_anim(e),label_text1:t.get_text()},{dm_anim1:t.end_anim()},0,e),t.light_anim_loop({dm_anim2:t.light_anim(a),label_text2:t.get_text()},{dm_anim2:t.end_anim()},500,a),t.light_anim_loop({dm_anim3:t.light_anim(n),label_text3:t.get_text()},{dm_anim3:t.end_anim()},300,n),t.light_anim_loop({dm_anim4:t.light_anim(i),label_text4:t.get_text()},{dm_anim4:t.end_anim()},800,i),t.light_anim_loop({dm_anim5:t.light_anim(o),label_text5:t.get_text()},{dm_anim5:t.end_anim()},600,o),console.log("init_danmu")},light_anim:function(t){var e=wx.createAnimation({timingFunction:"linear"});return e.translateX(-375).step({duration:t}),e.export()},end_anim:function(){var t=wx.createAnimation({timingFunction:"linear"});return t.translateX(375).step({duration:0}),t.export()},light_anim_loop:function(t,e,a,n){var i=this,o=3e3*Math.random()+3e3;setTimeout(function(){t.label_text1&&(t.label_text1=i.get_text()),t.label_text2&&(t.label_text2=i.get_text()),t.label_text3&&(t.label_text3=i.get_text()),t.label_text4&&(t.label_text4=i.get_text()),t.label_text5&&(t.label_text5=i.get_text()),t.dm_anim1&&(t.dm_anim1=i.light_anim(o)),t.dm_anim2&&(t.dm_anim2=i.light_anim(o)),t.dm_anim3&&(t.dm_anim3=i.light_anim(o)),t.dm_anim4&&(t.dm_anim4=i.light_anim(o)),t.dm_anim5&&(t.dm_anim5=i.light_anim(o)),i.setData(e),i.setData(t),i.light_anim_loop(t,e,o,o)},a)},get_text:function(){var t=[];return t=1==e.sex?e.boy:e.girl,e.index>=t.length&&(e.index=0),e.index++,t[e.index-1]},onShareAppMessage:function(){}}); 
 			}); 	require("pages/old/old-activity/activity.js");
 		__wxRoute = 'pages/category/category';__wxRouteBegin = true; 	define("pages/category/category.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a={goods:{cid:0}};Page({data:{cur_id:0},onLoad:function(t){t.id&&(a.goods.cid=t.id),this.initPage()},initPage:function(){this.initCategory(),this.initGoods()},initGoods:function(){var o=this;wx.request({url:t.globalData.__api_path+"category.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"get_goods",id:a.goods.cid},success:function(t){200==t.data.code?o.setData({result_data_goods:t.data.result}):wx.showToast({title:t.data.msg,duration:2e3}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3})},complete:function(){}})},initCategory:function(){var a=this;wx.request({url:t.globalData.__api_path+"category.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"get_category"},success:function(t){200==t.data.code?a.setData({result_data_category:t.data.result}):wx.showToast({title:t.data.msg,duration:2e3}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3})},complete:function(){}})},onCat_goods:function(t){var o=t.currentTarget.dataset.id;a.goods.cid=o,this.setData({cur_id:o,result_data_goods:[]}),this.initGoods(),App.zhuge.track("进入商品列表页面",{"平台":"小程序","商品类别":t.currentTarget.dataset.name})},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}}); 
 			}); 	require("pages/category/category.js");
 		__wxRoute = 'pages/goods/goods';__wxRouteBegin = true; 	define("pages/goods/goods.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),o={goods:{id:0,quantity:1,stock:20},_timeout:null};Page({data:{isDiscount:!1,isGoods_tab:"details",is_coupon_show:!1,coupon_anim:{},coupon_anim_bg:{},goods_quantity:1,end_h:"--",end_i:"--",end_s:"--"},onLoad:function(t){o.goods.quantity=1,o.goods.id=t.id,this.initPage()},onShow:function(){clearTimeout(o._timeout)},initPage:function(){t.initCallback(function(){this.goodsDetails(),this.getCoupon(),this.getPromotion()}.bind(this))},goodsDetails:function(){var a=this;wx.showLoading({title:"加载商品",mask:!0}),wx.request({url:t.globalData.__api_path+"goods.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"goods_details",id:o.goods.id},success:function(t){200==t.data.code?(a.setData({result_data:t.data.result,as_time:t.data.result.as_time}),o.goods.stock=t.data.result.goods_stock,o._timeout=setTimeout(function(){a.countDown(t.data.result.as_time)},1e3),App.zhuge.track("进入商品详情页面",{"平台":"小程序","商品型号":t.data.result.goods_shop,"商品名称":t.data.result.goods_name,"商品价格":t.data.result.goods_price}),wx.hideLoading()):wx.showToast({title:t.data.msg,duration:2e3}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3})},complete:function(){}})},getCoupon:function(){var a=this;wx.request({url:t.globalData.__api_path+"goods.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"coupon",id:o.goods.id},success:function(t){200==t.data.code?a.setData({result_coupon:t.data.result}):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}})},receive_coupon:function(o){wx.request({url:t.globalData.__api_path+"coupon.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"receive",id:o.currentTarget.dataset.id},success:function(t){200==t.data.code?wx.showModal({title:"提示",content:"优惠券已成功领取！",showCancel:!1,success:function(t){}}):wx.showToast({title:t.data.msg,duration:1e3,mask:!0,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}}),console.log(o.currentTarget.dataset.id)},getPromotion:function(){var a=this;wx.request({url:t.globalData.__api_path+"goods.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"promotion",id:o.goods.id},success:function(t){200==t.data.code?a.setData({result_promotion:t.data.result}):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}})},quantity_reduce:function(){if(o.goods.quantity<=1)return wx.showToast({title:"不能少于1",mask:!0}),!1;o.goods.quantity--,this.setData({goods_quantity:o.goods.quantity})},quantity_plus:function(){if(o.goods.quantity>=o.goods.stock)return wx.showToast({title:"不能超过"+o.goods.stock+"件",mask:!0}),!1;o.goods.quantity++,this.setData({goods_quantity:o.goods.quantity})},quantity_input:function(t){if(t.detail.value<=0||t.detail.value>=o.goods.stock)return wx.showToast({title:"不符合规范",duration:1500,mask:!0}),this.setData({goods_quantity:o.goods.quantity}),!1;o.goods.quantity=t.detail.value,this.setData({goods_quantity:t.detail.value})},goods_cart:function(){var t=this;this.add_cart(),App.zhuge.track("商品详情页-加入购物车",{"平台":"小程序","商品型号":t.data.result_data.goods_shop,"商品名称":t.data.result_data.goods_name,"商品价格":t.data.result_data.goods_price})},goods_buy:function(){var t=this;wx.navigateTo({url:"../cart-order/order?cart_id="+o.goods.id+"&quantity="+o.goods.quantity}),App.zhuge.track("商品详情页-点击立即购买",{"平台":"小程序","商品型号":t.data.result_data.goods_shop,"商品名称":t.data.result_data.goods_name,"商品价格":t.data.result_data.goods_price})},add_cart:function(a){wx.showLoading({title:"请稍后",mask:!0}),wx.request({url:t.globalData.__api_path+"goods.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"add_cart",id:o.goods.id,quantity:o.goods.quantity},success:function(t){200==t.data.code?(wx.showToast({title:"添加成功！",icon:"success"}),"function"==typeof a&&a()):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}})},viewDiscount:function(){var t=this;t.setData({isDiscount:!t.data.isDiscount})},tabDisplay:function(t){this.setData({isGoods_tab:t.currentTarget.dataset.id})},coupon_show:function(){var t=this;t.setData({is_coupon_show:!0}),t.animation=wx.createAnimation({duration:500,timingFunction:"ease"}),t.animation.bottom("0rpx").step(),t.setData({coupon_anim:t.animation.export()}),t.animation.opacity(1).step(),t.setData({coupon_anim_bg:t.animation.export()})},coupon_hide:function(){var t=this;t.animation=wx.createAnimation({duration:500,timingFunction:"ease"}),t.animation.bottom("-580rpx").step(),t.setData({coupon_anim:t.animation.export()}),t.animation.opacity(0).step(),t.setData({coupon_anim_bg:t.animation.export()}),setTimeout(function(){t.setData({is_coupon_show:!1})},500)},bind_zhuge_service:function(){App.zhuge.track("点击联系客服",{"平台":"小程序"})},countDown:function(t){var a=this;if(t>0){var i=Math.floor(t/86400),n=Math.floor(t/3600)-24*i,e=Math.floor(t/60)-24*i*60-60*n,s=Math.floor(t)-24*i*60*60-60*n*60-60*e;(n+=24*i)<=9&&(n="0"+n),e<=9&&(e="0"+e),s<=9&&(s="0"+s),a.setData({end_h:n,end_i:e,end_s:s}),t--,o._timeout=setTimeout(function(){a.countDown(t)},1e3),console.log("phptime:"+t)}else a.setData({as_time:-2,end_h:"00",end_i:"00",end_s:"00"}),console.log("结束")},onPullDownRefresh:function(){clearTimeout(o._timeout),this.initPage(),wx.stopPullDownRefresh()},onShareAppMessage:function(){}}); 
 			}); 	require("pages/goods/goods.js");
 		__wxRoute = 'pages/goods-comment/comment';__wxRouteBegin = true; 	define("pages/goods-comment/comment.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var o=getApp(),t={goods:{id:0,photos:[]}};Page({data:{},onLoad:function(o){t.goods.id=o.id,this.initPage()},initPage:function(){var a=this;wx.request({url:o.globalData.__api_path+"goods.php",data:{uid:o.globalData.__uid,token:o.globalData.__token,act:"comment",id:t.goods.id},success:function(o){200==o.data.code?(a.setData({result_data:o.data.result}),t.goods.photos=o.data.result):wx.showToast({title:o.data.msg,duration:2e3,icon:"none"}),console.log(o)},fail:function(o){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}})},imageplus:function(o){var a=o.currentTarget.dataset;wx.previewImage({current:a.url,urls:t.goods.photos[a.id].comment_pic_array})},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}}); 
 			}); 	require("pages/goods-comment/comment.js");
 		__wxRoute = 'pages/coupon/coupon';__wxRouteBegin = true; 	define("pages/coupon/coupon.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp();Page({data:{},onLoad:function(t){this.initPage()},initPage:function(){var a=this;wx.request({url:t.globalData.__api_path+"index.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"coupon_all"},success:function(t){200==t.data.code?a.setData({result_coupon:t.data.result}):wx.showToast({title:t.data.msg,duration:2e3}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3})},complete:function(){}})},receive_coupon:function(a){wx.request({url:t.globalData.__api_path+"coupon.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"receive",id:a.currentTarget.dataset.id},success:function(t){200==t.data.code?wx.showModal({title:"提示",content:"优惠券已成功领取！",showCancel:!1,success:function(t){}}):wx.showToast({title:t.data.msg,duration:1e3,mask:!0}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3})},complete:function(){}}),console.log(a.currentTarget.dataset.id)},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}}); 
 			}); 	require("pages/coupon/coupon.js");
 		__wxRoute = 'pages/cart/cart';__wxRouteBegin = true; 	define("pages/cart/cart.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp();Page({data:{item_anim:{},check_all:!1},config:{item_toggle:[],touch_start:{x:0,y:0,id:0},is_check_all:!1},onLoad:function(t){},onShow:function(){this.initPage()},initPage:function(){var a=this;wx.showLoading({title:"加载购物车",mask:!0}),wx.request({url:t.globalData.__api_path+"cart.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"get_cart"},success:function(t){200==t.data.code?(a.setData({result_data:t.data.cart,check_all:t.data.cart.isAll}),a.config.is_check_all=t.data.cart.isAll,App.zhuge.track("进入购物车页面",{"平台":"小程序","商品个数":t.data.cart.select_quantity,"总价":t.data.cart.total_price}),wx.hideLoading()):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}})},radioChange:function(t){this.setCart("is_cheched",t.currentTarget.dataset.cart_id)},allChange:function(t){var a=this.config.is_check_all?"cancel_all":"select_all";this.config.is_check_all=!this.config.is_check_all,this.setCart(a)},quantity_reduce:function(t){this.setCart("reduce",t.currentTarget.dataset.cart_id)},quantity_plus:function(t){this.setCart("plus",t.currentTarget.dataset.cart_id)},quantity_input:function(t){this.setCart("input",t.currentTarget.dataset.cart_id,t.detail.value)},setCart:function(a,i,e){var o=this,n={uid:t.globalData.__uid,token:t.globalData.__token,act:a};i&&(n.cart_id=i),e&&(n.quantity=e),wx.showLoading({title:"请稍后",mask:!0}),wx.request({url:t.globalData.__api_path+"cart.php",data:n,success:function(t){200==t.data.code?wx.hideLoading():wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),t.data.cart&&(o.setData({result_data:t.data.cart,check_all:t.data.cart.isAll}),o.config.is_check_all=t.data.cart.isAll),console.log(t)},fail:function(t){wx.hideLoading(),wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}})},to_category:function(){wx.switchTab({url:"../category/category"})},item_isRemove:function(t){var a=this,i=[0];a.animation=wx.createAnimation({duration:400,timingFunction:"ease-out"}),a.config.item_toggle[t]?(a.config.item_toggle[t]=!1,a.animation.translateX(0).step()):(a.config.item_toggle[t]=!0,a.animation.translateX(-75).step()),i[t]=a.animation.export(),a.setData({item_anim:i})},bind_isRemove:function(t){this.item_isRemove(t.target.dataset.id)},itemStart:function(t){this.config.touch_start.x=t.touches[0].clientX,this.config.touch_start.id=t.currentTarget.dataset.id},itemEnd:function(t){this.config.touch_start.x-t.changedTouches[0].clientX>50?this.config.item_toggle[this.config.touch_start.id]||this.item_isRemove(this.config.touch_start.id):this.config.touch_start.x-t.changedTouches[0].clientX<-50&&this.config.item_toggle[this.config.touch_start.id]&&this.item_isRemove(this.config.touch_start.id)},goods_del:function(a){var i=a.target.dataset.id,e=this;wx.showModal({title:"提示",content:"您确定要删除商品吗？",showCancel:!0,success:function(a){a.confirm?wx.request({url:t.globalData.__api_path+"cart.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"cart_del",cart_id:i},success:function(t){200==t.data.code?(wx.showToast({title:"删除成功！",icon:"success"}),e.item_isRemove(i),e.initPage()):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}}):a.cancel&&console.log("用户点击取消")}})},bindGetUserInfo:function(a){var i=this;wx.showLoading({title:"正在处理",mask:!0}),t.getUser(),wx.request({url:t.globalData.__api_path+"cart.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"check_cart"},success:function(t){wx.hideLoading(),200==t.data.code?(wx.navigateTo({url:"../cart-order/order"}),App.zhuge.track("购物车页面-点击去结算",{"平台":"小程序","商品个数":i.data.result_data.select_quantity,"总价":i.data.result_data.total_price})):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.hideLoading(),wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}})},onPullDownRefresh:function(){this.initPage(),wx.stopPullDownRefresh()},onReachBottom:function(){},onShareAppMessage:function(){}}); 
 			}); 	require("pages/cart/cart.js");
 		__wxRoute = 'pages/cart-order/order';__wxRouteBegin = true; 	define("pages/cart-order/order.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var o=getApp(),e={order:{address:null,select_coupon:null,order_info:null,cart_id:0,cart_quantity:1},source:"",is_activity:0};Page({data:{is_coupon_show:!1,is_address_show:!1,coupon_anim:{},coupon_anim_bg:{},submit_style:""},onLoad:function(o){e.source=o.source||"",e.order.cart_id=o.cart_id||0,e.order.cart_quantity=o.quantity||1,this.initPage()},initPage:function(){e.order.select_coupon=null,e.order.order_info=null,e.order.address&&this.setData({address:e.order.address}),this.initCart(),this.getCoupon()},getCoupon:function(){var e=this;wx.request({url:o.globalData.__api_path+"cart-order.php",data:{uid:o.globalData.__uid,token:o.globalData.__token,act:"coupon"},success:function(o){200==o.data.code?e.setData({result_coupon:o.data.result}):wx.showToast({title:o.data.msg,duration:2e3,icon:"none"}),console.log(o)},fail:function(o){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}})},setCoupon:function(t){var r=this,a=t.currentTarget.dataset.id;wx.request({url:o.globalData.__api_path+"cart-order.php",data:{uid:o.globalData.__uid,token:o.globalData.__token,act:"use-coupon",uc_id:a,cart_id:e.order.cart_id,cart_quantity:e.order.cart_quantity},success:function(o){200==o.data.code?(r.setData({select_coupon:o.data.result}),e.order.select_coupon=o.data.result,e.order.select_coupon.uc_id=a,r.coupon_hide(),e.order.order_info.coupon_price=o.data.result.coupon_rule[1],e.order.order_info.order_new_price=e.order.order_info.order_price-o.data.result.coupon_rule[1],e.order.order_info.order_new_price<0&&(e.order.order_info.order_new_price=0),r.setData({order_info:e.order.order_info})):wx.showToast({title:o.data.msg,duration:1e3,icon:"none"}),console.log(o)},fail:function(o){wx.showToast({title:"数据加载失败，请刷新",duration:1e3,icon:"none"})},complete:function(){}})},inputWacth:function(o){o.detail.value?this.setData({submit_style:"submit_red"}):this.setData({submit_style:""})},hide_msg:function(){this.setData({is_address_show:!1})},open_setting:function(){wx.openSetting({success:function(o){console.log(o.authSetting["scope.address"])}}),this.hide_msg()},selectAddress:function(){var o=this;wx.chooseAddress({success:function(t){e.order.address=t,o.setData({address:e.order.address}),console.log(t)},fail:function(e){"chooseAddress:fail auth deny"==e.errMsg&&o.setData({is_address_show:!0}),console.log(e)}})},initCart:function(){var t=this;wx.request({url:o.globalData.__api_path+"cart-order.php",data:{uid:o.globalData.__uid,token:o.globalData.__token,act:"order_cart",cart_id:e.order.cart_id,cart_quantity:e.order.cart_quantity},success:function(o){200==o.data.code?(e.order.order_info=o.data.order,e.order.order_info.coupon_price=0,e.order.order_info.order_new_price=e.order.order_info.order_price,t.setData({order_info:e.order.order_info}),App.zhuge.track("进入订单页面",{"平台":"小程序","商品个数":o.data.order.total_quantity,"总价":o.data.order.total_price}),o.data.order.select_coupon.uc_id&&t.setCoupon({currentTarget:{dataset:{id:o.data.order.select_coupon.uc_id}}})):wx.showToast({title:o.data.msg,duration:2e3,icon:"none"}),console.log(o)},fail:function(o){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}})},coupon_show:function(){var o=this;o.setData({is_coupon_show:!0}),o.animation=wx.createAnimation({duration:500,timingFunction:"ease"}),o.animation.bottom("0rpx").step(),o.setData({coupon_anim:o.animation.export()}),o.animation.opacity(1).step(),o.setData({coupon_anim_bg:o.animation.export()})},coupon_hide:function(){var o=this;o.animation=wx.createAnimation({duration:500,timingFunction:"ease"}),o.animation.bottom("-580rpx").step(),o.setData({coupon_anim:o.animation.export()}),o.animation.opacity(0).step(),o.setData({coupon_anim_bg:o.animation.export()}),setTimeout(function(){o.setData({is_coupon_show:!1})},500)},submit_order:function(){var t=0;if(!e.order.address)return wx.showToast({title:"请选择地址",icon:"none",duration:1e3}),!1;e.order.select_coupon&&(t=e.order.select_coupon.uc_id),App.zhuge.track("订单页面-点击提交订单",{"平台":"小程序","商品金额":e.order.order_info.total_price,"优惠金额":e.order.order_info.discount_price+e.order.order_info.coupon_price,"应付金额":e.order.order_info.order_price,"收货人姓名":e.order.address.userName,"收货省市":e.order.address.provinceName+"-"+e.order.address.cityName+"-"+e.order.address.countyName}),wx.showLoading({title:"请稍后",mask:!0}),wx.request({url:o.globalData.__api_path+"cart-order.php",data:{uid:o.globalData.__uid,token:o.globalData.__token,act:"order_submit",cart_id:e.order.cart_id,cart_quantity:e.order.cart_quantity,order_coupon:t,order_user_name:e.order.address.userName,order_user_code:e.order.address.postalCode,order_user_address:e.order.address.detailInfo,order_user_mobile:e.order.address.telNumber,order_user_region:e.order.address.provinceName+"-"+e.order.address.cityName+"-"+e.order.address.countyName},success:function(o){200==o.data.code?(e.is_activity=o.data.other.is_activity,wx.requestPayment({timeStamp:o.data.result.timeStamp,nonceStr:o.data.result.nonceStr,package:o.data.result.package,signType:o.data.result.signType,paySign:o.data.result.paySign,success:function(e){console.log(e),App.zhuge.track("支付成功",{"平台":"小程序","订单编号":o.data.order.order_no,"下单日期":o.data.order.order_time,"支付方式":"微信","收货人姓名":o.data.order.order_user_name,"收货省市":o.data.order.order_user_region,"应付金额":o.data.order.order_total_price})},fail:function(e){console.log(e),App.zhuge.track("支付失败",{"平台":"小程序","订单编号":o.data.order.order_no,"下单日期":o.data.order.order_time,"支付方式":"微信","收货人姓名":o.data.order.order_user_name,"收货省市":o.data.order.order_user_region,"应付金额":o.data.order.order_total_price,"失败原因":"用户取消"})},complete:function(t){wx.showLoading({title:"正在处理订单...",mask:!0}),setTimeout(function(){wx.hideLoading(),1==e.is_activity&&"old"==e.source?wx.redirectTo({url:"../old/old-activity/activity"}):wx.redirectTo({url:"../user-order/order"})},2e3),console.log(e,o)}}),wx.hideLoading()):wx.showToast({title:o.data.msg,duration:2e3,icon:"none"}),console.log(o)},fail:function(o){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}})},submit_code:function(e){var t=this;if(!e.detail.value.code)return wx.showToast({title:"兑换码不能为空",duration:2e3,icon:"none"}),!1;wx.showLoading({title:"请稍后",mask:!0}),wx.request({url:o.globalData.__api_path+"coupon.php",data:{uid:o.globalData.__uid,token:o.globalData.__token,act:"receive-code",code:e.detail.value.code},success:function(o){wx.hideLoading(),200==o.data.code?wx.showModal({title:"提示",content:"兑换成功！",showCancel:!1,success:function(o){t.getCoupon()}}):wx.showToast({title:o.data.msg,duration:2e3,icon:"none"}),console.log(o)},fail:function(o){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}}),console.log(e)},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}}); 
 			}); 	require("pages/cart-order/order.js");
 		__wxRoute = 'pages/user/user';__wxRouteBegin = true; 	define("pages/user/user.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var s=getApp();Page({data:{is_address_show:!1},onLoad:function(n){this.setData({userinfo:s.globalData.__userInfo}),App.zhuge.track("进入我的页面",{"平台":"小程序"})},bindGetUserInfo:function(n){s.getUser(),this.setData({userinfo:n.detail.userInfo})},hide_msg:function(){this.setData({is_address_show:!1})},open_setting:function(){wx.openSetting({success:function(s){console.log(s.authSetting["scope.address"])}}),this.hide_msg()},selectAddress:function(){var s=this;wx.chooseAddress({success:function(s){console.log(s)},fail:function(n){"chooseAddress:fail auth deny"==n.errMsg&&s.setData({is_address_show:!0}),console.log(n)}})},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}}); 
 			}); 	require("pages/user/user.js");
 		__wxRoute = 'pages/user/user-company/company';__wxRouteBegin = true; 	define("pages/user/user-company/company.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=getApp();Page({data:{},onLoad:function(t){a.globalData.__const&&this.setData({company_img:a.globalData.__const[3]})},onShareAppMessage:function(){}}); 
 			}); 	require("pages/user/user-company/company.js");
 		__wxRoute = 'pages/user/user-settings/settings';__wxRouteBegin = true; 	define("pages/user/user-settings/settings.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Page({data:{},onLoad:function(n){},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}}); 
 			}); 	require("pages/user/user-settings/settings.js");
 		__wxRoute = 'pages/user/user-settings/about/about';__wxRouteBegin = true; 	define("pages/user/user-settings/about/about.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp();Page({data:{},onLoad:function(a){t.globalData.__const&&this.setData({about:t.globalData.__const[1]})},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}}); 
 			}); 	require("pages/user/user-settings/about/about.js");
 		__wxRoute = 'pages/user/user-address/address';__wxRouteBegin = true; 	define("pages/user/user-address/address.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Page({data:{},onLoad:function(n){},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}}); 
 			}); 	require("pages/user/user-address/address.js");
 		__wxRoute = 'pages/user-coupon/coupon';__wxRouteBegin = true; 	define("pages/user-coupon/coupon.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a={tabs:[],ls_array:[]};Page({data:{submit_style:""},onLoad:function(t){this.initPage()},initPage:function(){var o=this;wx.request({url:t.globalData.__api_path+"user.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"user-coupon"},success:function(t){200==t.data.code?(a.tabs=[{tab:"待使用("+t.data.result.res_1.length+")",cls:"tab-select",code:"tab1",conpon_cls:""},{tab:"已使用("+t.data.result.res_2.length+")",cls:"",code:"tab2",conpon_cls:"coupon_ysx"},{tab:"已失效("+t.data.result.res_3.length+")",cls:"",code:"tab3",conpon_cls:"coupon_ysx"}],a.ls_array=[t.data.result.res_1,t.data.result.res_2,t.data.result.res_3],o.setData({tabs:a.tabs,tab_coupons:a.ls_array[0],tab_coupons_style:""})):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}})},onCouponTab:function(t){for(var o="",e=0;e<a.tabs.length;e++)e==t.currentTarget.dataset.id?(a.tabs[e].cls="tab-select",o=a.tabs[e].conpon_cls):a.tabs[e].cls="";this.setData({tabs:a.tabs,tab_coupons:a.ls_array[t.currentTarget.dataset.id],tab_coupons_style:o})},submit_code:function(a){var o=this;if(!a.detail.value.code)return wx.showToast({title:"兑换码不能为空",duration:2e3,icon:"none"}),!1;wx.showLoading({title:"请稍后",mask:!0}),wx.request({url:t.globalData.__api_path+"coupon.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"receive-code",code:a.detail.value.code},success:function(t){wx.hideLoading(),200==t.data.code?wx.showModal({title:"提示",content:"兑换成功！",showCancel:!1,success:function(t){o.initPage()}}):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}}),console.log(a)},goto_goods:function(t){t.currentTarget.dataset.path&&wx.navigateTo({url:t.currentTarget.dataset.path})},inputWacth:function(t){t.detail.value?this.setData({submit_style:"submit_red"}):this.setData({submit_style:""})},onShow:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}}); 
 			}); 	require("pages/user-coupon/coupon.js");
 		__wxRoute = 'pages/user-after-sale/after-sale';__wxRouteBegin = true; 	define("pages/user-after-sale/after-sale.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp();Page({data:{},onLoad:function(t){this.initPage()},initPage:function(){var a=this;wx.request({url:t.globalData.__api_path+"user-after_sale.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"after_sale"},success:function(t){200==t.data.code?a.setData({result_data:t.data.result}):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}})},order_del:function(a){var o=this;wx.showModal({title:"提示",content:"您确定要删除吗？",showCancel:!0,success:function(e){e.confirm?wx.request({url:t.globalData.__api_path+"user-after_sale.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"after_sale_del",or_id:a.currentTarget.dataset.order_id},success:function(t){200==t.data.code?o.initPage():wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}}):e.cancel&&console.log("用户点击取消")}})},onPullDownRefresh:function(){this.initPage()},onReachBottom:function(){},onShareAppMessage:function(){}}); 
 			}); 	require("pages/user-after-sale/after-sale.js");
 		__wxRoute = 'pages/user-order/order';__wxRouteBegin = true; 	define("pages/user-order/order.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a={tabs:[{tab:"全部",cls:"tab-select",code:"order_all"},{tab:"待付款",cls:"",code:"no_pay"},{tab:"待发货",cls:"",code:"no_express"},{tab:"待收货",cls:"",code:"no_sh"},{tab:"待评价",cls:"",code:"no_pj"}],tab_cur:"order_all"};Page({data:{tabs:a.tabs},onLoad:function(t){t.act&&(a.tab_cur=t.act);for(var o=0;o<a.tabs.length;o++)a.tab_cur==a.tabs[o].code?a.tabs[o].cls="tab-select":a.tabs[o].cls="";this.setData({tabs:a.tabs})},onShow:function(){this.initPage(a.tab_cur)},onOrderTab:function(t){a.tab_cur=a.tabs[t.currentTarget.dataset.id].code;for(var o=0;o<a.tabs.length;o++)o==t.currentTarget.dataset.id?a.tabs[o].cls="tab-select":a.tabs[o].cls="";this.setData({tabs:a.tabs}),this.initPage(a.tabs[t.currentTarget.dataset.id].code)},initPage:function(a){var o=this;wx.showLoading({title:"请稍后",mask:!0}),wx.request({url:t.globalData.__api_path+"user-order.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:a},success:function(t){200==t.data.code?o.setData({result_data:t.data.result}):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){wx.hideLoading()}})},order_pay:function(o){var e=this;wx.showLoading({title:"请稍后",mask:!0}),wx.request({url:t.globalData.__api_path+"cart-order.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"order_pay",order_id:o.currentTarget.dataset.order_id},success:function(t){200==t.data.code?wx.requestPayment({timeStamp:t.data.result.timeStamp,nonceStr:t.data.result.nonceStr,package:t.data.result.package,signType:t.data.result.signType,paySign:t.data.result.paySign,success:function(t){wx.showToast({title:"订单支付成功",icon:"success",duration:2e3}),console.log(t)},fail:function(t){console.log(t)},complete:function(t){e.initPage(a.tab_cur)}}):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){wx.hideLoading()}})},order_cancel:function(o){var e=this;wx.showModal({title:"提示",content:"您确定要取消订单吗？",showCancel:!0,success:function(n){n.confirm?(wx.showLoading({title:"请稍后",mask:!0}),wx.request({url:t.globalData.__api_path+"user-order.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"order_cancel",order_id:o.currentTarget.dataset.order_id},success:function(t){200==t.data.code?(wx.showToast({title:"订单已取消",icon:"success",duration:2e3}),e.initPage(a.tab_cur)):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){wx.hideLoading()}})):n.cancel&&console.log("用户点击取消")}})},order_confirm:function(o){var e=this;wx.showModal({title:"提示",content:"您确定已经收到货物了吗？",showCancel:!0,success:function(n){n.confirm?(wx.showLoading({title:"请稍后",mask:!0}),wx.request({url:t.globalData.__api_path+"user-order.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"order_confirm",order_id:o.currentTarget.dataset.order_id},success:function(t){200==t.data.code?e.initPage(a.tab_cur):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){wx.hideLoading()}})):n.cancel&&console.log("用户点击取消")}})},order_del:function(o){var e=this;wx.showModal({title:"提示",content:"您确定要删除订单吗？",showCancel:!0,success:function(n){n.confirm?(wx.showLoading({title:"请稍后",mask:!0}),wx.request({url:t.globalData.__api_path+"user-order.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"order_del",order_id:o.currentTarget.dataset.order_id},success:function(t){wx.hideLoading(),200==t.data.code?(wx.showToast({title:"订单已删除",icon:"success",duration:2e3}),e.initPage(a.tab_cur)):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3})},complete:function(){}})):n.cancel&&console.log("用户点击取消")}})},order_return:function(t){wx.navigateTo({url:"/pages/user-order-return/order-return?order_id="+t.target.dataset.order_id})},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}}); 
 			}); 	require("pages/user-order/order.js");
 		__wxRoute = 'pages/user-order-return/order-return';__wxRouteBegin = true; 	define("pages/user-order-return/order-return.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var o=getApp(),t={photos:[],upload_photos:[],oid:0};Page({data:{},onLoad:function(o){t.upload_photos=[],t.photos=[],t.oid=o.order_id},bindImageTap:function(){var o=this;wx.chooseImage({count:3,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){if(e.tempFilePaths.length+t.photos.length>3)return wx.showToast({title:"最多支持3张照片哦！",icon:"none"}),!1;t.photos.push.apply(t.photos,e.tempFilePaths),o.setData({photos:t.photos}),console.log(e),console.log(t.photos)}})},removeImage:function(o){var e=this;wx.showModal({title:"提示",content:"您确定要删除一张图片吗",success:function(s){s.confirm?(t.photos.splice(o.target.dataset.id,1),e.setData({photos:t.photos}),console.log(t.photos)):s.cancel&&console.log("用户点击取消")}})},formBindsubmit:function(o){var e=this,s=o.detail.value;if(!s.comment_content)return wx.showToast({title:"请输入说明内容",icon:"none"}),!1;wx.showLoading({title:"上传图片",mask:!0}),e.setImages(0,function(){s.comment_pic=t.upload_photos.join(","),t.upload_photos=[],e.setInfo(s)})},setInfo:function(e){wx.showLoading({title:"正在保存",mask:!0}),wx.request({url:o.globalData.__api_path+"user-after_sale.php",data:{uid:o.globalData.__uid,token:o.globalData.__token,act:"add_after_sale",order_id:t.oid,or_pic:e.comment_pic,or_type:e.comment_type,or_content:e.comment_content},success:function(o){200==o.data.code?wx.showModal({title:"提示",content:"申请提交成功，点击确定返回上级页面。",showCancel:!1,success:function(o){o.confirm&&wx.redirectTo({url:"/pages/user-after-sale/after-sale"})}}):wx.showModal({title:"提示",content:o.data.msg,showCancel:!1,success:function(o){o.confirm&&wx.redirectTo({url:"/pages/user-order/order"})}}),console.log(o)},fail:function(o){wx.showToast({title:"保存失败，请重试",duration:2e3,icon:"none"})},complete:function(){wx.hideLoading()}})},setImages:function(e,s){if(t.photos.length<=0)return s(),!1;var a=this;wx.uploadFile({url:o.globalData.__api_path+"uploadImage.php",filePath:t.photos[e],name:"file",success:function(o){console.log(o),t.upload_photos.push(o.data)},fail:function(){},complete:function(){++e==t.photos.length?s():a.setImages(e,s)}})},onShareAppMessage:function(){}}); 
 			}); 	require("pages/user-order-return/order-return.js");
 		__wxRoute = 'pages/user-comment/comment';__wxRouteBegin = true; 	define("pages/user-comment/comment.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var o=getApp(),t={photos:[],upload_photos:[],oid:0,gid:0};Page({data:{},onLoad:function(o){t.upload_photos=[],t.photos=[],t.oid=o.order_id,t.gid=o.goods_id,this.initPage()},initPage:function(){var e=this;wx.request({url:o.globalData.__api_path+"user-order.php",data:{uid:o.globalData.__uid,token:o.globalData.__token,act:"order_goods_details",order_id:t.oid,goods_id:t.gid},success:function(o){200==o.data.code?e.setData({result_data:o.data.result}):wx.showModal({title:"提示",content:o.data.msg,showCancel:!1,success:function(o){o.confirm&&wx.redirectTo({url:"/pages/user-order/order"})}}),console.log(o)},fail:function(o){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}})},bindImageTap:function(){var o=this;wx.chooseImage({count:3,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){if(e.tempFilePaths.length+t.photos.length>3)return wx.showToast({title:"最多支持3张照片哦！",icon:"none"}),!1;t.photos.push.apply(t.photos,e.tempFilePaths),o.setData({photos:t.photos}),console.log(e),console.log(t.photos)}})},removeImage:function(o){var e=this;wx.showModal({title:"提示",content:"您确定要删除一张图片吗",success:function(a){a.confirm?(t.photos.splice(o.target.dataset.id,1),e.setData({photos:t.photos}),console.log(t.photos)):a.cancel&&console.log("用户点击取消")}})},formBindsubmit:function(o){var e=this,a=o.detail.value;if(!a.comment_content)return wx.showToast({title:"请输入评论内容",icon:"none"}),!1;wx.showLoading({title:"上传图片",mask:!0}),e.setImages(0,function(){a.comment_pic=t.upload_photos.join(","),t.upload_photos=[],e.setInfo(a)})},setInfo:function(e){wx.showLoading({title:"正在保存",mask:!0}),wx.request({url:o.globalData.__api_path+"user-order.php",data:{uid:o.globalData.__uid,token:o.globalData.__token,act:"add_comment",order_id:t.oid,goods_id:t.gid,comment_pic:e.comment_pic,comment_content:e.comment_content},success:function(o){200==o.data.code?wx.showModal({title:"提示",content:"信息提交成功，点击确定返回上级页面。",showCancel:!1,success:function(o){o.confirm&&wx.redirectTo({url:"/pages/user-order/order"})}}):wx.showModal({title:"提示",content:o.data.msg,showCancel:!1,success:function(o){o.confirm&&wx.redirectTo({url:"/pages/user-order/order"})}}),console.log(o)},fail:function(o){wx.showToast({title:"保存失败，请重试",duration:2e3,icon:"none"})},complete:function(){wx.hideLoading()}})},setImages:function(e,a){if(t.photos.length<=0)return a(),!1;var n=this;wx.uploadFile({url:o.globalData.__api_path+"uploadImage.php",filePath:t.photos[e],name:"file",success:function(o){console.log(o),t.upload_photos.push(o.data)},fail:function(){},complete:function(){++e==t.photos.length?a():n.setImages(e,a)}})},onShareAppMessage:function(){}}); 
 			}); 	require("pages/user-comment/comment.js");
 		__wxRoute = 'pages/order-after-sale/order';__wxRouteBegin = true; 	define("pages/order-after-sale/order.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a={or_id:0};Page({data:{},onLoad:function(t){a.or_id=t.id,this.initPage()},initPage:function(){var o=this;wx.request({url:t.globalData.__api_path+"user-after_sale.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"after_sale_details",or_id:a.or_id},success:function(t){200==t.data.code?o.setData({result_data:t.data.result}):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}})},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}}); 
 			}); 	require("pages/order-after-sale/order.js");
 		__wxRoute = 'pages/search/search';__wxRouteBegin = true; 	define("pages/search/search.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp();Page({data:{},onLoad:function(t){this.initPage()},initPage:function(){var a=this;wx.request({url:t.globalData.__api_path+"index.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"label"},success:function(t){200==t.data.code?a.setData({result_data:t.data.result}):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}})},formBindsubmit:function(t){var a=t.detail.value.keyword;if(!a)return wx.showToast({title:"请输入关键字",duration:1e3,icon:"none"}),!1;this.setData({key:a}),this.search_goods(a)},search_goods:function(a){var o=this;wx.showLoading({title:"请稍后",mask:!0}),wx.request({url:t.globalData.__api_path+"index.php",data:{uid:t.globalData.__uid,token:t.globalData.__token,act:"search",key:a,page:1},success:function(t){wx.hideLoading(),200==t.data.code?o.setData({result_goods:t.data.result.goods}):wx.showToast({title:t.data.msg,duration:2e3,icon:"none"}),console.log(t)},fail:function(t){wx.showToast({title:"数据加载失败，请刷新",duration:2e3,icon:"none"})},complete:function(){}}),App.zhuge.track("搜索",{"平台":"小程序","关键词":a})},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}}); 
 			}); 	require("pages/search/search.js");
 	